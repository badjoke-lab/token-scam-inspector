---
layout: log
title: "2025-12-23"
date: 2025-12-23
---

「ツールをどう作るか」を聞いていきます
まず一番大事なポイント。

## 🧠 User
<blockquote>
「このツール作るけど最初からいちいち金なんかかけてられねえぞ。無料で作成から運営までやるぞ。可能か。」
</blockquote>

答えは可能
他のツール作成の時に放置運営でいくぞとやってたのでここでも考えてくれました。無駄に気が利きますね。

3案出してくれましたがオススメのB案 Cloudflare Pages + Workersにします
もっと言うとこれはgithubでリポジトリを作ってそれをcloudflareで公開してそれにworkersでどうこうみたいな感じですね。よくわかってません

次は「どう作るか」を聞くことをもっと進めていこうと思います。

## 🤖 GPT
<blockquote>
可能。**無料で開発→公開→（ほぼ）放置運営**は現実的にできる。

ただし「どこからデータを取るか」によって、**無料で耐えられる範囲**が変わる。ここが設計の肝。

以下に **無料運営できる構成を3候補**出して、最後に **おすすめ**をはっきり言う。

---

## 無料運営の前提条件（現実ライン）

- 参照先APIの無料枠に収まるようにする（例：Etherscan Freeは 3 calls/sec・1日最大100,000コール） ([Etherscan](https://docs.etherscan.io/resources/rate-limits?utm_source=chatgpt.com))
- BscScanも無料で使えるが、IPあたり最大 5 calls/sec などのレート制限がある ([Bscscan Information Center](https://info.bscscan.com/api-return-errors/?utm_source=chatgpt.com))
- 「同じトークンを何度も調べる」アクセスは **キャッシュ**で潰す（これをやらないと無料枠が死ぬ）
- サーバーを常時稼働させない（＝静的サイト＋必要最小限のサーバレス）

---

# 構成案A：完全静的（フロントだけでAPI直叩き）

### 何を使う

- Cloudflare Pages / GitHub Pages：静的ホスティング（無料）
- ブラウザから Etherscan/BscScan API を直接呼ぶ

### 長所

- 最速で作れる（MVP向き）
- インフラゼロ、運営が楽

### 短所（致命点になりがち）

- **APIキーをフロントに置く＝公開される**
    
    → “悪用”されるとレート制限を食い潰されてツールが死ぬ
    
- CORSやレート制限回避が面倒
- 「無料運営で放置」には不向き

### こんな場合だけアリ

- **APIキー不要**の取得経路だけで成立する（かなり制限される）
- もしくは「キー漏洩してもOK」な割り切りができる

**おすすめ度：低（放置運営に弱い）**

---

# 構成案B：静的＋“薄い”サーバレス（APIプロキシ＋キャッシュ）

**無料運営で一番現実的。おすすめ。**

### 何を使う

- Cloudflare Pages（UIのホスティング：無料）
- Cloudflare Workers（APIプロキシ：無料枠あり）
    - Free plan：**1日100,000 requests** ([Cloudflare Docs](https://developers.cloudflare.com/workers/platform/limits/?utm_source=chatgpt.com))
- Workers内で Etherscan/BscScan を呼び、結果をキャッシュして返す

### この構成のポイント

- ブラウザ → Workers → 外部API の順にすることで
    
    **APIキーはWorkers側の環境変数に隠せる**
    
- Workersで **キャッシュ（KV不要でも可）**すれば
    
    同じトークンの問い合わせが連打されても外部APIを叩かない
    

### 具体的なデータ設計（例）

- エンドポイント：`/api/inspect?chain=eth&address=0x...`
- レスポンス：JSON（チェック項目＋判定＋説明）
- キャッシュキー：
    - `inspect:eth:0xabc...`
- TTL：
    - 15分〜24時間（「コードやホルダー」は頻繁に変わらないので長めでも良い）

### 長所

- **無料で回る可能性が一番高い**
- キー秘匿・レート制限・キャッシュが一括で解決
- 放置運営向き

### 短所

- 構成Aよりは少しだけ面倒（ただし一度作れば終わり）

**おすすめ度：最高（無料運営の本命）**

---

# 構成案C：静的＋第三者の統合API（Moralis / Covalent 等の無料枠）

### 何を使う

- UIは静的
- データは「全部入りAPI」に寄せる（ホルダー、メタデータなど）

### 長所

- 実装がラクになりやすい（APIが統一されている）

### 短所

- 無料枠が将来変わる/急に厳しくなるリスク
- “放置運営”中に仕様変更が起きると詰む

**おすすめ度：中（短期MVPは良いが、放置に弱い）**

---

## じゃあどれを薦める？

**B（Cloudflare Pages + Workers の薄いAPIプロキシ＋キャッシュ）一択**。

「無料」「放置」「外部API依存」を同時に満たすには、これが一番事故らない。

- Workers Freeのリクエスト上限（1日100,000）は明示されている ([Cloudflare Docs](https://developers.cloudflare.com/workers/platform/limits/?utm_source=chatgpt.com))
- 外部API（Etherscan/BscScan）も無料枠・レート制限があるので、**キャッシュで守る**のが前提 ([Etherscan](https://docs.etherscan.io/resources/rate-limits?utm_source=chatgpt.com))

---

# 無料運営向け：おすすめ構成（B）の完成形

### フロント（Pages）

- 住所入力 → `/api/inspect` を叩く
- 返ってきたJSONをUI表示（Risk badge + table + Explain）

### バック（Workers）

- 入力検証（chain / address）
- キャッシュチェック（ヒットしたら即返す）
- ミスなら外部APIへ
- レスポンスを整形してキャッシュして返す

### さらに放置性能を上げる小技

- 1 IPあたりの簡易レート制限（悪用対策）
- 「結果画面のURL共有」を可能にする（同じアドレスならキャッシュで安い）

---

</blockquote>
